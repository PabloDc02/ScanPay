<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>QR Code Generator - ScanPay</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div class="container">
    <h1>ðŸ”² ScanPay QR Generator</h1>

    <input type="text" id="qr-input" placeholder="Enter text, URL, or crypto wallet address" />
    
    <button onclick="generateQR()">Generate QR</button>

    <div id="qr-box" class="hidden">
      <canvas id="qr-canvas"></canvas>
      <div class="qr-actions">
        <button onclick="downloadQR()">Download QR</button>
        <button onclick="copyText()">Copy Text</button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/qrcode@1.5.1/build/qrcode.min.js"></script>
  <script>
    function generateQR() {
      const input = document.getElementById("qr-input").value.trim();
      const qrBox = document.getElementById("qr-box");
      const canvas = document.getElementById("qr-canvas");

      if (input === "") {
        alert("Please enter some text or a crypto wallet address.");
        return;
      }

      qrBox.classList.remove("hidden");

      QRCode.toCanvas(canvas, input, { width: 200 }, function (error) {
        if (error) console.error(error);
      });
    }

    function downloadQR() {
      const canvas = document.getElementById("qr-canvas");
      const link = document.createElement("a");
      link.download = "scanpay-qr.png";
      link.href = canvas.toDataURL();
      link.click();
    }

    function copyText() {
      const text = document.getElementById("qr-input").value;
      navigator.clipboard.writeText(text).then(() => {
        alert("Copied to clipboard!");
      });
    }
  </script>

</body>
</html>
